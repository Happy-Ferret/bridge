<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title></title>
  <script src="scripts/prettify/prettify.js"></script>
  <script src="scripts/prettify/lang-css.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/fira.css">
  <link rel="stylesheet" href="styles/prettify-tomorrow.css">
  <link rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>
<div id="main">
  <h1 class="page-title"></h1>
  



    













    




    <section>
        <article><h1>threads.js <a href="https://travis-ci.org/gaia-components/threads"><img src="https://travis-ci.org/gaia-components/threads.svg" alt=""></a> <a href="https://david-dm.org/gaia-components/threads#info=devDependencies"><img src="https://david-dm.org/gaia-components/threads/dev-status.svg" alt=""></a></h1><blockquote>
<p>Exposes a service between one browser JavaScript context to another.</p>
</blockquote>
<pre class="prettyprint source lang-js"><code>// my-worker.js
service('my-service')
  .method('greet', function(name) { return 'hello ' + name; })
  .listen();</code></pre><pre class="prettyprint source lang-js"><code>// app.js
var endpoint = new Worker('my-worker.js');
var myClient = client('my-service', endpoint);

client.method('greet', 'john').then(function(value) {
  console.log(value); //=> 'hello john'
});</code></pre><h2>Installation</h2><pre class="prettyprint source lang-bash"><code>$ npm install gaia-components/threads</code></pre><pre class="prettyprint source lang-bash"><code>$ bower install gaia-components/threads</code></pre><h2>Usage</h2><p>Window: <code>&lt;script src=&quot;threads-service.js&quot;&gt;</code><br/>
Worker: <code>importScripts('threads-service.js')</code></p>
<pre class="prettyprint source lang-js"><code>service('my-service')
  .method('ping', arg => 'pong');</code></pre><p>Window: <code>&lt;script src=&quot;threads-client.js&quot;&gt;</code><br/>
Worker: <code>importScripts('threads-client.js')</code></p>
<pre class="prettyprint source lang-js"><code>var myClient = client('my-client', new Worker('my-worker,js'))
var myClient.method('ping').then(result => ...)</code></pre><p>Simple: <code>&lt;script src=&quot;threads.js&quot;&gt;</code><br/>
CommonJS: <code>var threads = require('threads')</code></p>
<pre class="prettyprint source lang-js"><code>var myClient = threads.client('my-client', new Worker('my-worker,js'))
var myClient.method('ping').then(result => ...)

threads.service('my-service')
  .method('ping', arg => 'pong');</code></pre><h2>How it works</h2><p>Threads.js uses a variety of transport mechanisms to provide consistent, simple communication between almost any browser JavaScript context.</p>
<p>During the connection phase we pass messages between different endpoints using various <code>.postMessage()</code> APIs. Once a Clients connection request is recieved by a Service, a direct <code>MessageChannel</code> is opened, through which all subsequent messages are passed.</p>
<h2>Demos</h2><ul>
<li>Methods</li>
<li>Events</li>
<li>Forwarding messages</li>
<li>Custom Endpoints</li>
</ul>
<h2>Plugins</h2><p>To keep the core library as light as possible, threads.js uses a plugin approach to bolt on additional funcitonality.</p>
<ul>
<li>Streams</li>
<li>Contracts</li>
</ul>
<h2><a class="jsdoc-hidden" href="https://gaia-components.github.io/threads/docs/out/index.html">Documentation</a></h2></article>
    </section>






</div>
<nav><h2><a href="index.html">threads.js</a></h2><h3>Classes</h3><ul><li><a href="Client.html">Client</a></li><li><a href="Service.html">Service</a></li><li><a href="Receiver.html">Receiver</a></li><li><a href="Emitter.html">Emitter</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-BroadcastChannel.html">BroadcastChannel</a></li><li><a href="tutorial-Forwarding messages.html">Forwarding messages</a></li><li><a href="tutorial-Plugin_ Streams.html">Plugin: Streams</a></li><li><a href="tutorial-What_s an endpoint_.html">What's an endpoint?</a></li><li><a href="tutorial-Writing plugins.html">Writing plugins</a></li></ul></nav>
<footer>
  Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0-dev</a> on Wed Jul 22 2015 15:27:32 GMT+0100 (BST)
</footer>
<script> window.prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
<script src="scripts/nav.js"></script>
</body>
</html>