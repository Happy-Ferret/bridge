<script src="../../threads.js"></script>
<script>
  var loggerChannel = new BroadcastChannel('logger-service-channel');
  var myServiceChannel = new BroadcastChannel('my-service-channel');
  var logger = threads.client('logger', loggerChannel);

  threads.service('my-service')
    .listen(myServiceChannel)
    .method('ping', () => {
      logger.method('log', 'Got \'ping\' request');
      return 'pong';
    });

</script>